---
// Single canonical Google tag (gtag.js) for the site.
// Used in Layout.astro and InsightLayout.astro so every page gets exactly one load.
// - Google Ads: AW-17896889359 (skipped on /contact so that page never sends data to Ads)
// - GA4: G-QVZKKJSC56
interface Props { pathname?: string; }
const { pathname = '' } = Astro.props;
const path = pathname.replace(/\/$/, '') || '/';
const skipGoogleAds = path === '/contact';
---
<!-- Google tag (gtag.js) - Google Ads + GA4 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-17896889359"></script>
<script is:inline define:vars={{ skipGoogleAds }}>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	if (!skipGoogleAds) {
		gtag('config', 'AW-17896889359');
	}
	gtag('config', 'G-QVZKKJSC56');
</script>
